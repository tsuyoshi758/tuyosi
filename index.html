<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>消費者金融賢い利用ガイド</title>
    <style>
        body {
            font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #2980b9;
            border-left: 5px solid #3498db;
            padding-left: 10px;
            margin-top: 30px;
        }
        h3 {
            color: #3498db;
        }
        .card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .alert {
            background-color: #f8d7da;
            color: #721c24;
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0;
        }
        .tip {
            background-color: #d4edda;
            color: #155724;
            padding: 10px;
            border-radius: 5px;
            margin: 15px 0;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        .checklist label {
            display: block;
            margin-bottom: 10px;
            cursor: pointer;
        }
        #simulationResult {
            display: none;
            margin-top: 15px;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }
        button:hover {
            background-color: #2980b9;
        }
        input[type="number"] {
            padding: 8px;
            width: 100%;
            box-sizing: border-box;
        }
        #topButton {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        #topButton:hover {
            background-color: #45a049;
        }
    </style>
    <script src="https://www.google.com/recaptcha/api.js"></script>
</head>
<body>
    <header>
        <h1>消費者金融賢い利用ガイド</h1>
    </header>

    <nav>
        <a href="#preparation">借入前の準備</a>
        <a href="#usage">賢い利用方法</a>
        <a href="#repayment">返済のコツ</a>
        <a href="#trouble">トラブル対処</a>
        <a href="#contact">お問い合わせ</a>
    </nav>

    <div class="card">
        <h2 id="preparation">借入前の準備</h2>
        
        <h3>必要性の見極め</h3>
        <p>借入れる前に、本当にその資金が必要かどうかを慎重に考えましょう。</p>
        <ul>
            <li><strong>検討する価値がある支出：</strong>生活費、冠婚葬祭、車の修理など必要不可欠な支出</li>
            <li><strong>避けるべき支出：</strong>ギャンブル、遊興費など</li>
        </ul>
        
        <h3>返済計画の立案</h3>
        <p>借入前に必ず返済計画を立てることが重要です。多くの消費者金融のWebサイトには返済シミュレーションサービスがあるので、これを活用して無理のない返済プランを検討しましょう。</p>
        
        <h3>最適な金融機関の選択</h3>
        <table>
            <tr>
                <th>目的</th>
                <th>おすすめの金融機関</th>
                <th>理由</th>
            </tr>
            <tr>
                <td>急な出費</td>
                <td>消費者金融</td>
                <td>審査・融資が早い</td>
            </tr>
            <tr>
                <td>長期的な資金計画</td>
                <td>銀行系カードローン</td>
                <td>金利が低め</td>
            </tr>
            <tr>
                <td>少額の短期借入</td>
                <td>クレジットカードのキャッシング枠</td>
                <td>手続きが簡単</td>
            </tr>
        </table>
    </div>
    
    <div class="card">
        <h2 id="usage">賢い利用方法</h2>
        
        <h3>必要最低限の借入</h3>
        <p>「せっかくだから」と多めに借りると、利息が増えて返済に苦労する原因になります。利用限度額は多めに設定しておいても、実際の借入は必要最低限にとどめましょう。</p>
        
        <div class="alert">
            <strong>注意：</strong>必要以上の借入れは返済負担の増加につながります。
        </div>
        
        <h3>契約内容の確認</h3>
        <p>以下の内容を必ず確認しましょう：</p>
        <ul>
            <li>金利</li>
            <li>返済期間</li>
            <li>返済方法</li>
            <li>無利息期間サービスの有無と条件</li>
        </ul>
        
        <h3>初回無利息サービスの活用</h3>
        <p>多くの消費者金融では初回利用者向けに30日間無利息などのサービスを提供しています。このサービスを利用すれば、金利負担を抑えることができます。</p>
        
        <div class="tip">
            <strong>ヒント：</strong>無利息期間内に返済すれば、利息ゼロで借入れができます。
        </div>
    </div>
    
    <div class="card">
        <h2 id="repayment">返済のコツ</h2>
        
        <h3>繰上返済の活用</h3>
        <p>可能であれば繰上返済を行い、早めに完済することで総返済額を減らすことができます。</p>
        
        <h3>返済日の設定</h3>
        <p>消費者金融では毎月の返済日を自分の都合に合わせて設定できることが多いです。給料日後など、確実に返済できる日を選びましょう。</p>
        
        <h3>複数社からの借入に注意</h3>
        <p>多重債務に陥らないよう、複数の金融機関からの借入には十分注意しましょう。</p>
    </div>
    
    <div class="card">
        <h2 id="trouble">トラブル時の対処法</h2>
        <p>もし返済が困難になった場合は、すぐに消費者金融に相談しましょう。返済計画の見直しや、場合によっては債務整理などの方法もあります。</p>
        
        <div class="alert">
            <strong>重要：</strong>返済に困ったら、問題を先送りにせず、早めに相談することが最も重要です。
        </div>
        
        <ol>
            <li>まずは金融機関に相談する</li>
            <li>返済条件の変更を依頼する</li>
            <li>必要に応じて法律の専門家に相談する</li>
        </ol>
    </div>
    
    <div class="card">
        <h2>借入前チェックリスト</h2>
        <div class="checklist">
            <label><input type="checkbox"> 本当に必要な支出か確認しましたか？</label>
            <label><input type="checkbox"> 返済計画は立てましたか？</label>
            <label><input type="checkbox"> 自分の収入に見合った金額ですか？</label>
            <label><input type="checkbox"> 複数の金融機関を比較しましたか？</label>
            <label><input type="checkbox"> 金利や手数料を確認しましたか？</label>
            <label><input type="checkbox"> 利用規約を読みましたか？</label>
        </div>
    </div>
    
    <div class="card">
        <h2>返済シミュレーション</h2>
        <div>
            <label for="loanAmount">借入額（円）：</label>
            <input type="number" id="loanAmount" min="10000" value="100000">
        </div>
        <div style="margin-top: 10px;">
            <label for="interestRate">金利（年利 %）：</label>
            <input type="number" id="interestRate" min="0.1" max="20" step="0.1" value="15.0">
        </div>
        <div style="margin-top: 10px;">
            <label for="months">返済期間（ヶ月）：</label>
            <input type="number" id="months" min="1" max="120" value="12">
        </div>
        
        <button onclick="calculateRepayment()">計算する</button>
        
        <div id="simulationResult" class="tip">
            <h3>返済シミュレーション結果</h3>
            <p><strong>借入額：</strong> <span id="resultAmount"></span>円</p>
            <p><strong>金利：</strong> 年<span id="resultRate"></span>%</p>
            <p><strong>返済期間：</strong> <span id="resultMonths"></span>ヶ月</p>
            <p><strong>月々の返済額：</strong> <span id="monthlyPayment"></span>円</p>
            <p><strong>総返済額：</strong> <span id="totalPayment"></span>円</p>
            <p><strong>利息総額：</strong> <span id="totalInterest"></span>円</p>
        </div>
    </div>

    <section id="contact" style="padding: 40px 0; background-color: #f9f9f9;">
        <div style="max-width: 600px; margin: 0 auto; padding: 20px;">
            <h2 style="text-align: center; color: rgb(17, 189, 69); margin-bottom: 30px;">お問い合わせ</h2>
            <form action="https://api.staticforms.xyz/submit" method="post" id="contactForm" style="display: flex; flex-direction: column; gap: 15px;">
                <input type="hidden" name="accessKey" value="f3ebf16e-2b42-4d8d-9a15-5bfa6e42e828">
                <input type="hidden" name="subject" value="消費者金融賢い利用ガイドからのお問い合わせ">
                <input type="hidden" name="replyTo" value="@">
                <input type="hidden" name="redirectTo" value="https://tsuyoshi758.github.io/tuyosi/thanks.html">
                
                <div>
                    <label for="name" style="display: block; margin-bottom: 5px;">お名前 *</label>
                    <input type="text" id="name" name="name" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div>
                    <label for="email" style="display: block; margin-bottom: 5px;">メールアドレス *</label>
                    <input type="email" id="email" name="email" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div>
                    <label for="email_confirm" style="display: block; margin-bottom: 5px;">メールアドレス（確認用） *</label>
                    <input type="email" id="email_confirm" name="email_confirm" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div>
                    <label for="message" style="display: block; margin-bottom: 5px;">お問い合わせ内容 *</label>
                    <textarea id="message" name="message" required style="width: 100%; height: 150px; padding: 8px; border: 1px solid #ddd; border-radius: 4px;"></textarea>
                </div>
                <div>
                    <label>
                        <input type="checkbox" name="$consent" required style="margin-right: 8px;">
                        <a href="Privac_policy.html" target="_blank" style="color: rgb(17, 189, 69);">プライバシーポリシー</a>に同意します
                    </label>
                </div>
                
                <div class="g-recaptcha" data-sitekey="6LcKCPEqAAAAAHh5gN5Dl6OkGt8-0O_H6lRZ3uIn" style="margin: 15px 0;"></div>
                
                <button type="submit" id="submit-button" style="background-color: rgb(17, 189, 69); color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; transition: background-color 0.3s;">送信する</button>
            </form>
        </div>
    </section>

    <button id="topButton" onclick="scrollToTop()">上に戻る</button>
    
    <footer style="margin-top: 30px; text-align: center; font-size: 0.8em; color: #777;">
        <p>※このガイドは情報提供を目的としており、専門的なアドバイスを代替するものではありません。<br>実際の金融判断に際しては、専門家にご相談ください。</p>
        <p>&copy; 2024 消費者金融賢い利用ガイド. All Rights Reserved.</p>
    </footer>

    <script>
        window.onload = function() {
            var topButton = document.getElementById("topButton");
            
            window.onscroll = function() {
                if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                    topButton.style.display = "block";
                } else {
                    topButton.style.display = "none";
                }
            };
        }

        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        function calculateRepayment() {
            const loanAmount = parseFloat(document.getElementById('loanAmount').value);
            const interestRate = parseFloat(document.getElementById('interestRate').value);
            const months = parseInt(document.getElementById('months').value);
            
            const monthlyRate = interestRate / 100 / 12;
            
            const monthlyPayment = loanAmount * monthlyRate * Math.pow(1 + monthlyRate, months) / (Math.pow(1 + monthlyRate, months) - 1);
            
            const totalPayment = monthlyPayment * months;
            const totalInterest = totalPayment - loanAmount;
            
            document.getElementById('resultAmount').textContent = loanAmount.toLocaleString();
            document.getElementById('resultRate').textContent = interestRate.toFixed(1);
            document.getElementById('resultMonths').textContent = months;
            document.getElementById('monthlyPayment').textContent = Math.round(monthlyPayment).toLocaleString();
            document.getElementById('totalPayment').textContent = Math.round(totalPayment).toLocaleString();
            document.getElementById('totalInterest').textContent = Math.round(totalInterest).toLocaleString();
            
            document.getElementById('simulationResult').style.display = 'block';
        }

        document.getElementById('contactForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (document.getElementById('email').value !== document.getElementById('email_confirm').value) {
                alert('メールアドレスが一致しません');
                return false;
            }

            var recaptchaResponse = grecaptcha.getResponse();
            if (!recaptchaResponse) {
                alert('「私はロボットではありません」にチェックを入れてください');
                return false;
            }

            try {
                const formData = {
                    accessKey: 'f3ebf16e-2b42-4d8d-9a15-5bfa6e42e828',
                    subject: '消費者金融賢い利用ガイドからのお問い合わせ',
                    name: document.getElementById('name').value,
                    email: document.getElementById('email').value,
                    message: document.getElementById('message').value,
                    'g-recaptcha-response': recaptchaResponse,
                    'recaptcha-secret': '6LcKCPEqAAAAAKgyXtKgwAGH70iUkgXLOenrvfD4'
                };

                const response = await fetch('https://api.staticforms.xyz/submit', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });

                const result = await response.json();

                if (response.ok && result.success) {
                    window.location.href = 'https://tsuyoshi758.github.io/tuyosi/thanks.html';
                } else {
                    throw new Error(result.message || '送信に失敗しました');
                }
            } catch (error) {
                alert('エラーが発生しました。もう一度お試しください。\n' + error.message);
                console.error('Error:', error);
                grecaptcha.reset();
            }
        });
    </script>
</body>
</html>